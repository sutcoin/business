<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>업체 정보 제출 (테스트용)</title>
</head>
<body>
  <h2>테스트 폼</h2>
  <form id="bizForm" action="https://business-vnrj.onrender.com/submit" method="POST" enctype="multipart/form-data">
    <label>업체명 *</label>
    <input name="업체명" required />

    <label>주소지 *</label>
    <input name="주소지" required />

    <label>전화번호 *</label>
    <input name="전화번호" required />

    <label>SUT 할인율 (%) *</label>
    <input name="SUT_할인율" required />

    <label>네이버지도 링크 *</label>
    <input name="네이버지도링크" required />

    <label>업체 소개 *</label>
    <textarea name="업체소개" required></textarea>

    <label>홍보태그</label>
    <input name="홍보태그" />

    <!-- 파일은 선택 -->
    <label>사진 (선택)</label>
    <input name="photos" type="file" accept="image/*" />

    <button type="submit">제출하기</button>
  </form>

  <div id="msg"></div>

<script>
document.getElementById('bizForm').addEventListener('submit', async function(e){
  e.preventDefault();
  const f = new FormData(this);
  const msg = document.getElementById('msg');
  msg.textContent = '전송중...';
  try {
    const res = await fetch(this.action, { method:'POST', body: f, mode:'cors' });
    const json = await res.json();
    msg.textContent = (res.ok ? '성공: ' : '실패: ') + (json.message || res.statusText);
    console.log('response', res.status, json);
  } catch(err){
    msg.textContent = '네트워크 오류: ' + err.message;
    console.error(err);
  }
});
</script>
</body>
</html>
